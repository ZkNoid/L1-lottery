{
  "method": "GET",
  "baseURL": "https://random-data-api.com/api/number/random_number",
  "path": "number",
  "zkapp": "import{Field as c,MerkleMap as D,Poseidon as M,PublicKey as L,SmartContract as G,State as h,Struct as W,UInt32 as z,ZkProgram as H,method as y,state as g}from\"o1js\";import{PublicKey as R,UInt64 as V}from\"o1js\";var Y=V.from(10*10**9),q=480;var tt=R.fromBase58(\"B62qnBkcyABfjz2cqJPzNZKjVt9M9kx1vgoiWLbkJUnk16Cz8KX8qC4\"),I=R.fromBase58(\"B62qnmsn4Bm4MzPujKeN1faxedz4p1cCAwA9mKAWzDjfb4c1ysVvWeK\");import{ZkonZkProgram as J,ZkonRequestCoordinator as S,ExternalRequestEvent as F}from\"zkon-zkapp\";import{Field as k,Provable as E,provable as j,Struct as N,UInt32 as m,UInt64 as nt}from\"o1js\";import{StringCircuitValue as P}from\"zkon-zkapp\";var x=\"bafkreigvqu3wvikklcxvc7lcycxeih5o5nilil4yhthspw5ehh6zf45jbq\";var _=254n,Z=7,B=32n;function U(o,t,n){if(n*BigInt(t)>_)throw new Error(\"The Packing Plant is only accepting orders that can fit into one Field, try using MultiPackingPlant\");class r extends N({packed:k}){constructor(e){super({packed:e})}static extractField(e){throw new Error(\"Must implement extractField\")}static sizeInBits(){throw new Error(\"Must implement sizeInBits\")}static unpack(e){throw new Error(\"Must implement unpack\")}static checkPack(e){if(e.length>t)throw new Error(`Input of size ${e.length} is larger than expected size of ${t}`)}static pack(e){this.checkPack(e);let a=this.extractField(e[0]),l=Math.min(e.length,t);for(let d=1;d<l;d++){let T=k((2n**this.sizeInBits())**BigInt(d));a=a.add(this.extractField(e[d]).mul(T))}return a}static unpackToBigints(e){let a=new Array(t);a.fill(0n);let l;if(e)l=e.toBigInt();else throw new Error(\"No Packed Value Provided\");for(let d=0;d<t;d++)a[d]=l&(1n<<this.sizeInBits())-1n,l>>=this.sizeInBits();return a}toFields(){return[this.packed]}assertEquals(e){this.packed.assertEquals(e.packed)}}return r.type=j({packed:k},{}),r.l=t,r.bitSize=n,r}function K(o=Z){class t extends U(m,o,B){static extractField(r){return r.value}static sizeInBits(){return B}static unpack(r){let s=E.witness(E.Array(m,o),()=>this.unpackToBigints(r).map(a=>m.from(a)));return r.assertEquals(t.pack(s)),s}static fromUInt32s(r){let s=t.pack(r);return new t(s)}static fromBigInts(r){let s=r.map(e=>m.from(e));return t.fromUInt32s(s)}toBigInts(){return t.unpack(this.packed).map(r=>r.toBigint())}}return t}var w=class extends K(){};var C=()=>{function o(t){let n=t.slice(0,30),r=t.slice(30),s=new P(n).toField(),e=new P(r).toField();return{hashPart1:s,hashPart2:e}}return o(x.toString())};var p=function(o,t,n,r){var s=arguments.length,e=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")e=Reflect.decorate(o,t,n,r);else for(var l=o.length-1;l>=0;l--)(a=o[l])&&(e=(s<3?a(e):s>3?a(t,n,e):a(t,n))||e);return s>3&&e&&Object.defineProperty(t,n,e),e},i=function(o,t){if(typeof Reflect==\"object\"&&typeof Reflect.metadata==\"function\")return Reflect.metadata(o,t)},pt=new D().getRoot(),X=H.Proof(J),v=class extends X{},f=class extends W({value:c,salt:c}){hash(){return M.hash([this.value,this.salt])}},{hashPart1:A,hashPart2:b}=C(),O=I,$=L.fromBase58(\"B62qjGsPY47SMkTykivPBAU3riS9gvMMrGr7ve6ynoHJNBzAhQmtoBn\"),u=class extends G{constructor(){super(...arguments),this.startSlot=h(),this.commit=h(),this.result=h(),this.curRandomValue=h(),this.events={requested:F}}async commitValue(t){this.permissionCheck(),this.commit.getAndRequireEquals().assertEquals(c(0),\"Already committed\"),this.commit.set(t.hash()),await this.callZkon()}async reveal(t){this.permissionCheck(),this.result.getAndRequireEquals().assertEquals(c(0),\"reveal: Result already computed\");let r=this.curRandomValue.getAndRequireEquals();r.assertGreaterThan(c(0),\"reveal: No random value\"),this.commit.getAndRequireEquals().assertEquals(t.hash(),\"reveal: wrong commit value\"),this.checkRoundPass();let e=M.hash([t.value,r]);this.result.set(e)}async callZkon(){this.curRandomValue.getAndRequireEquals().assertEquals(c(0),\"random value have already been computed\");let r=await new S(O).sendRequest(this.address,A,b),s=new F({id:r,hash1:A,hash2:b});this.emitEvent(\"requested\",s)}async receiveZkonResponse(t,n){this.curRandomValue.getAndRequireEquals().assertEquals(c(0),\"receiveZkonResponse: prev random value was not consumed. Call reveal first\"),await new S(O).recordRequestFullfillment(t,n),this.curRandomValue.set(n.publicInput.dataField)}permissionCheck(){this.sender.getAndRequireSignature().assertEquals($)}checkRoundPass(){let t=this.startSlot.getAndRequireEquals();this.network.globalSlotSinceGenesis.requireBetween(t.add(q),z.MAXINT())}};p([g(z),i(\"design:type\",Object)],u.prototype,\"startSlot\",void 0);p([g(c),i(\"design:type\",Object)],u.prototype,\"commit\",void 0);p([g(c),i(\"design:type\",Object)],u.prototype,\"result\",void 0);p([g(c),i(\"design:type\",Object)],u.prototype,\"curRandomValue\",void 0);p([y,i(\"design:type\",Function),i(\"design:paramtypes\",[f]),i(\"design:returntype\",Promise)],u.prototype,\"commitValue\",null);p([y,i(\"design:type\",Function),i(\"design:paramtypes\",[f]),i(\"design:returntype\",Promise)],u.prototype,\"reveal\",null);p([y,i(\"design:type\",Function),i(\"design:paramtypes\",[c,v]),i(\"design:returntype\",Promise)],u.prototype,\"receiveZkonResponse\",null);var mt=u;export{f as CommitValue,u as RandomManager,v as ZkonProof,X as ZkonProof_,mt as default};\n"
}